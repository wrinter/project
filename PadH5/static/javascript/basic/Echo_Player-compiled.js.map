{"version":3,"sources":["Echo_Player.js"],"names":[],"mappings":"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","file":"Echo_Player-compiled.js","sourcesContent":["/**\r\n * Created by Echonessy on 2017/7/26.\r\n */\r\n/*****************************congfig参数说明****************************/\r\n//'ele ':绑定的DOM  例如 .app  #app\r\n//'ClassPrefix ':自定义播放器的标识类名 例如 .EchoPlayer-Play 自定义播放器的标识类名注意同时启用多个播放器的时候类名不要重复\r\n//ClassPrefixPosition:'fixed'//自定义播放器的布局方式fixed 特殊 默认auto\r\n//注意：Chrome浏览器针对audio 设置currentTime始终为0，是因为服务器导致的，建议测试采用线上音频链接或者配置nginx、Apache等服务代理\r\nwindow.EchoPlayer = (function () {\r\n    var InitPlayer = function () {};\r\n    InitPlayer.prototype = {\r\n        config: function (param) {\r\n            this.CreatHtml(param)\r\n        },\r\n        //兼容IE获取类名\r\n        CompatGetClass:function (parent,classStr,tagName) {\r\n            function hasClass(tagStr,classStr){\r\n                var arr=tagStr.className.split(/\\s+/ ); //这个正则表达式是因为class可以有多个,判断是否包含\r\n                for (var i=0;i<arr.length;i++){\r\n                    if (arr[i]==classStr){\r\n                        return true ;\r\n                    }\r\n                }\r\n                return false ;\r\n            }\r\n            if (parent.getElementsByClassName) {\r\n                return parent.getElementsByClassName(classStr)\r\n            }else {\r\n                var nodes = parent.getElementsByTagName(tagName),ret = [];\r\n                for(var i = 0; i < nodes.length; i++) {\r\n                    if(hasClass(nodes[i],classStr)){\r\n                        ret.push(nodes[i])\r\n                    }\r\n                }\r\n                return ret;\r\n            }\r\n        },\r\n        //检测音频文件是否支持\r\n        FileSupport:function (params) {\r\n            //判断对象是否为空\r\n            function isEmptyObject(e) {\r\n                var t;\r\n                for (t in e)\r\n                    return !1;\r\n                return !0\r\n            }\r\n            this.ele=document.querySelector(params.ele)\r\n            this.Flag = this.ele.getAttribute('src').split('.').length-1\r\n            this.fileType=this.ele.getAttribute('src').split('.')[this.Flag].toLowerCase();\r\n            if(this.fileType.indexOf('?')>0) {\r\n                this.fileType = this.fileType.split('?')[0].toLowerCase()\r\n            }\r\n            this.Support=false;\r\n            //检测项目\r\n            this.Detection='audio/'+this.fileType+';';\r\n            console.log(this.ele.canPlayType(this.Detection))\r\n            if(!isEmptyObject(this.ele.canPlayType(this.Detection))){\r\n                this.Support=true;\r\n            }\r\n            return this.Support;\r\n        },\r\n        //检测音频文件是否有\r\n        CheckAudioFile:function (params) {\r\n            this.Defult=false;//判断链接是否含有\r\n            //判断对象是否为空\r\n            function isEmptyObject(e) {\r\n                var t;\r\n                for (t in e)\r\n                    return !1;\r\n                return !0\r\n            }\r\n            this.ele=document.querySelector(params.ele)\r\n            this.file=this.ele.getAttribute('src');\r\n            if(!isEmptyObject(this.file)){\r\n                if(this.FileSupport(params)){\r\n                    this.Defult=true;\r\n                }\r\n            }\r\n            return this.Defult;\r\n        },\r\n        //时间格式重置\r\n        TimeReset:function (value) {\r\n            var theTime = parseInt(value);// 秒\r\n            var theTime1 = 0;// 分\r\n            var theTime2 = 0;// 小时\r\n            var Result;//最终时间\r\n            //判断对象是否为空\r\n            function isEmptyObject(e) {\r\n                var t;\r\n                for (t in e)\r\n                    return !1;\r\n                return !0\r\n            }\r\n            if(!isEmptyObject(value)){\r\n                Result='00:00';\r\n            }else {\r\n                if(theTime > 60) {\r\n                    theTime1 = parseInt(theTime/60);\r\n                    theTime = parseInt(theTime%60);\r\n                    if(theTime1 > 60) {\r\n                        theTime2 = parseInt(theTime1/60);\r\n                        theTime1 = parseInt(theTime1%60);\r\n                    }\r\n                }\r\n                if(parseInt(theTime)<=9){\r\n                    var Sec = \"0\"+parseInt(theTime);\r\n                }else {\r\n                    var Sec =parseInt(theTime);\r\n                }\r\n                if(parseInt(theTime1)<=9){\r\n                    var Min = \"0\"+parseInt(theTime1);\r\n                }else {\r\n                    var Min =parseInt(theTime1);\r\n                }\r\n                if(parseInt(theTime2)<=9){\r\n                    var Hour = \"0\"+parseInt(theTime2);\r\n                }else {\r\n                    var Hour =parseInt(theTime2);\r\n                }\r\n                if(Hour=='00'||Hour==0){\r\n                    Result=Min+':'+Sec;\r\n                }else {\r\n                    Result=Hour+':'+Min+':'+Sec;\r\n                }\r\n            }\r\n            return Result;\r\n        },\r\n        // 创造类\r\n        ClassNameReset:function (params) {\r\n            //固定类名\r\n            this.ClassPrefix=params.ClassPrefix;\r\n            //存放最终的类名\r\n            var cssClass= {};\r\n            //存放单个模块\r\n            var cssClassSub = {\r\n                Pause:'Pause',\r\n                Play:'Play',\r\n                PlayBtn:'PlayBtn',\r\n                PlayTxt:'PlayTxt',\r\n                PlayConBox:'PlayConBox',\r\n                BarBox:'BarBox',\r\n                LoadBar:'LoadBar',\r\n                LoadBtn:'LoadBtn',\r\n                TimeBox:'TimeBox',\r\n                DurationTime:'DurationTime',\r\n                TotalTime:'TotalTime'\r\n            };\r\n            for( var ClassName in cssClassSub ){\r\n                cssClass[ ClassName ]=this.ClassPrefix+'-'+ cssClassSub[ ClassName ];\r\n            }\r\n            return cssClass;\r\n        },\r\n        //创建html\r\n        CreatHtml :function(params) {\r\n            var Class = this.ClassNameReset(params)\r\n            this.ClassPrefix=params.ClassPrefix;\r\n            this.ele=document.querySelector(params.ele)\r\n            this.file=this.ele.getAttribute('src');\r\n            if(this.CheckAudioFile(params)){\r\n                //截取ele类名字符串\r\n                this.IdName=params.ele;\r\n                if(this.IdName.indexOf('.')!=-1){\r\n                    this.IdName=this.IdName.split('.')[1];\r\n                }else if(this.IdName.indexOf('#')!=-1){\r\n                    this.IdName=this.IdName.split('#')[1];\r\n                }\r\n                var $Html='';\r\n                $Html+='<audio src=\"'+this.file+'\" id=\"'+this.IdName+'\"  style=\"display: none;\"></audio>';\r\n                $Html+='<div class=\"'+Class.PlayBtn+' '+Class.Pause+'\" data-status=\"pause\"></div>';\r\n                $Html+='<div class=\"'+Class.PlayConBox+'\">'\r\n                $Html+='<p class=\"'+Class.PlayTxt+'\">点击播放音频</p>'\r\n                $Html+='<div class=\"'+Class.BarBox+'\"><p class=\"'+Class.LoadBar+'\"></p><p class=\"'+Class.LoadBtn+'\"></p></div>';\r\n                $Html+='<div class=\"'+Class.TimeBox+'\">';\r\n                $Html+='<span class=\"'+Class.DurationTime+'\">00:00</span>';\r\n                $Html+='<span class=\"'+Class.TotalTime+'\"> ... </span>';\r\n                $Html+='</div>'\r\n                $Html+='</div>'\r\n                //音乐播放器主题架构\r\n                this.CreatPreFixDiv=document.createElement('div');\r\n                this.CreatPreFixDiv.className=this.ClassPrefix;\r\n                this.CreatPreFixDiv.innerHTML=$Html;\r\n                //替换当前DOM节点html\r\n                this.ele.parentNode.replaceChild(this.CreatPreFixDiv,this.ele);\r\n                this.DefultConfig(params);//初始化设置\r\n            };\r\n        },\r\n        //初始设置\r\n        DefultConfig:function (params) {\r\n            var that=this;\r\n            var Class=this.ClassNameReset(params);//获取类名对象\r\n            this.ele=document.querySelector(params.ele);//播放器\r\n            this.OutParent=this.ele.parentNode;//播放器父元素\r\n            this.Pause=this.CompatGetClass(this.OutParent,Class.Pause,'div')[0];//暂停\r\n            this.Play=this.CompatGetClass(this.OutParent,Class.Play,'div')[0];//播放\r\n            this.PlayBtn=this.CompatGetClass(this.OutParent,Class.PlayBtn,'div')[0];//播放暂停按钮\r\n            this.BarBox=this.CompatGetClass(this.OutParent,Class.BarBox,'div')[0];//时间进度条父元素\r\n            this.LoadBar=this.CompatGetClass(this.OutParent,Class.LoadBar,'p')[0];//时间进度条\r\n            this.LoadBtn=this.CompatGetClass(this.OutParent,Class.LoadBtn,'p')[0];//时间进度条\r\n            this.TimeBox=this.CompatGetClass(this.OutParent,Class.TimeBox,'div')[0];//时间父元素\r\n            this.DurationTime=this.CompatGetClass(this.OutParent,Class.DurationTime,'span')[0];//当前播放时间\r\n            this.TotalTime=this.CompatGetClass(this.OutParent,Class.TotalTime,'span')[0];//音频总时间\r\n            this.PalyReset(params)\r\n            this.Loaded(params);\r\n\r\n        },\r\n        // 播放器重置\r\n        PalyReset: function (params) {\r\n            var Class=this.ClassNameReset(params);\r\n            this.DurationTime.innerHTML='00:00'\r\n            //当前时间进度条改变\r\n            this.LoadBar.style.width=0;\r\n            this.PlayBtn.className=Class.Pause+' '+Class.PlayBtn;\r\n            this.PlayBtn.setAttribute('data-status','pause');\r\n            this.ele.pause();\r\n        },\r\n        //初始化播放器\r\n        Loaded:function (params) {\r\n            var that=this;\r\n            this.ele.addEventListener('error',function () {\r\n                console.log('音频无效')\r\n                javascript:bc.showNotice(\"抱歉，文件走丢了，请稍后再试\");\r\n            });\r\n            //数据已加载\r\n            this.ele.addEventListener('loadeddata',function () {\r\n                //首先初始化音频的总时间\r\n                that.TotalTime.innerHTML=that.TimeReset(this.duration);\r\n                //点击事件\r\n                that.PlayEvent(params)\r\n            });\r\n            //监听播放\r\n            this.ele.addEventListener( 'timeupdate', function()\r\n            {\r\n                //当前播放时间\r\n                that.DurationTime.innerHTML=(that.TimeReset(this.currentTime))\r\n                //当前时间进度条改变\r\n                that.LoadBar.style.width=(this.currentTime/this.duration)*100+'%';\r\n                //当前时间进度按钮改变\r\n                that.LoadBtn.style.left=(this.currentTime/this.duration)*100+'%';\r\n            });\r\n        },\r\n        //播放事件\r\n        PlayEvent:function (params){\r\n            var that = this\r\n            var Class=this.ClassNameReset(params);\r\n            //播放事件\r\n            this.PlayBtn.addEventListener('click',function () {\r\n                var Status=this.getAttribute('data-status');\r\n                if(Status=='playing'){\r\n                    this.className=Class.Pause+' '+Class.PlayBtn;\r\n                    this.setAttribute('data-status','pause');\r\n                    that.ele.pause();\r\n                }else {\r\n                    this.className=Class.Play+' '+Class.PlayBtn;\r\n                    this.setAttribute('data-status','playing');\r\n                    that.ele.play();\r\n                }\r\n            });\r\n            //进度调节事件\r\n            this.BarBox.addEventListener('click',function (e) {\r\n                that.UpDataTime(e,params,false);\r\n            });\r\n            //进度调节事件\r\n            this.BarBox.addEventListener('touchstart',function (e) {\r\n                that.UpDataTime(e,params,true);\r\n            });\r\n            //进度调节事件\r\n            this.BarBox.addEventListener('touchmove',function (e) {\r\n                that.UpDataTime(e,params,true);\r\n            });\r\n            this.ele.addEventListener('ended',function () {\r\n                that.DurationTime.innerHTML='00:00'\r\n                //当前时间进度条改变\r\n                that.LoadBar.style.width=0;\r\n                that.PlayBtn.className=Class.Pause+' '+Class.PlayBtn;\r\n                that.PlayBtn.setAttribute('data-status','pause');\r\n            });\r\n        },\r\n        //调节进度\r\n        UpDataTime:function (e,params,support) {\r\n            this.theRealEvent = support ? e.targetTouches[0] : e //鼠标信息\r\n            this.duration=this.ele.duration;//总时间\r\n            this.ClassPosition=params.ClassPrefixPosition//不同布局方式计算方式不同\r\n            if(this.ClassPosition=='fixed'){\r\n                //计算当前鼠标点击的位置是相对于音频是什么播放时间\r\n                this.clickTime=Math.round( (this.duration * ( this.theRealEvent.pageX - (this.BarBox.offsetLeft+this.OutParent.offsetLeft) ) )/(this.BarBox.clientWidth));\r\n            }else {\r\n                //计算当前鼠标点击的位置是相对于音频是什么播放时间\r\n                this.clickTime=Math.round( (this.duration * ( this.theRealEvent.pageX - (this.BarBox.offsetLeft) ) )/(this.BarBox.clientWidth));\r\n            }\r\n            if(this.clickTime < 0 ) {\r\n                this.clickTime = 0\r\n            }\r\n            if(this.clickTime >= this.duration) {\r\n                this.clickTime = this.duration\r\n            }\r\n            //改变当前播放位置\r\n            this.ele.currentTime =this.clickTime;\r\n            //改变进度时间\r\n            this.DurationTime.innerHTML=this.TimeReset(this.clickTime);\r\n            //改变进度条长度\r\n            this.LoadBar.style.width=(this.clickTime/this.duration)*100+'%';\r\n            this.LoadBtn.style.left=(this.clickTime/this.duration)*100+'%';\r\n        }\r\n    }\r\n    return InitPlayer\r\n})()"]}