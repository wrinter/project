{"version":3,"sources":["main.js"],"names":[],"mappings":";;AAAA,OAAO,WAAP,MAAwB,cAAxB;AACA,OAAO,GAAP,MAAgB,KAAhB;AACA,OAAO,GAAP,MAAgB,OAAhB;AACA,OAAO,MAAP,MAAmB,UAAnB;;AAEA,OAAO,wCAAP;AACA,IAAI,GAAJ,CAAQ,WAAR;AACA,IAAI,GAAJ;;AAEA,IAAI,MAAJ,CAAW,aAAX,GAA2B,KAA3B;;AAEC,IAAI,IAAJ,CAAS,OAAT,CAAiB,WAAjB,GAA+B,IAA/B;;AAKD,IAAI,GAAJ,CAAQ;AACN,MAAI,MADE;AAEN,gBAFM;AAGN,YAAU,QAHJ;AAIN,cAAY,EAAE,QAAF,EAJN;AAKN,SALM,qBAKK;AACT,SAAK,WAAL;AACD,GAPK;;AAQN,SAAO;AACL,cAAU;AADL,GARD;AAWN,WAAS;AACP,eADO,yBACQ;AACb,UAAI,WAAW,OAAO,QAAP,CAAgB,IAAhB,CAAqB,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAf;AACA,UAAI,SAAS,KAAK,MAAL,CAAY,KAAZ,CAAkB,EAA/B;;AAEA,UAAI,aAAa,GAAjB,EAAsB;AAEpB,YAAI,SAAS,OAAT,CAAiB,SAAjB,MAAgC,CAAC,CAArC,EAAwC;AACtC,uBAAa,OAAb,CAAqB,aAArB,EAAoC,QAApC;AACA,uBAAa,OAAb,CAAqB,QAArB,EAA+B,MAA/B;AACD;AACF;AACD,WAAK,YAAL;AACD,KAbM;AAcP,gBAdO,0BAcS;AAAA;;AACd,UAAI,UAAU,EAAd;AACA,cAAQ,MAAR,GAAiB,KAAK,MAAtB;AACA,WAAK,KAAL,CAAW,IAAX,CAAgB,yBAAhB,EAA2C,IAA3C,CAAgD,UAAC,QAAD,EAAc;AAC5D,YAAI,cAAc,SAAS,IAA3B;AACA,YAAI,UAAU,YAAY,OAA1B;AACA,YAAI,WAAW,OAAO,QAAP,CAAgB,IAAhB,CAAqB,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAf;;AAEA,YAAI,YAAY,MAAhB,EAAwB;AACtB,cAAI,SAAS,OAAT,CAAiB,OAAjB,IAA4B,CAAhC,EAAmC;AACjC,kBAAK,OAAL,CAAa,IAAb,CAAkB,QAAlB;AACD,WAFD,MAEO;AACL,kBAAK,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACD;AACF,SAND,MAMO;AAEL,cAAI,SAAS,OAAT,CAAiB,SAAjB,IAA8B,CAAlC,EAAqC,CAAE,CAAvC,MAA6C;AAC3C,kBAAK,OAAL,CAAa,IAAb,CAAkB,aAAa,OAAb,CAAqB,aAArB,CAAlB;AACD;AACF;AACF,OAjBD;AAkBD;AAnCM;AAXH,CAAR","file":"main-compiled.js","sourcesContent":["import VueResource from 'vue-resource'\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\nimport ElementUI from 'element-ui'\r\nimport 'element-ui/lib/theme-default/index.css'\r\nVue.use(VueResource)\r\nVue.use(ElementUI)\r\n\r\nVue.config.productionTip = false\r\n\r\n Vue.http.options.emulateJSON = true\r\n// {'emulateJSON': true}\r\n\r\n// 路由\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  template: '<App/>',\r\n  components: { App },\r\n  mounted () {\r\n    this.checkRouter()\r\n  },\r\n  watch: {\r\n    '$route': 'checkRouter'\r\n  },\r\n  methods: {\r\n    checkRouter () {\r\n      let ThisPage = window.location.href.split('#')[1]\r\n      let menuid = this.$route.query.id\r\n      // 写在这里的原因是因为不存登录页其他类似打开新页面的一级路由还是要存的\r\n      if (ThisPage !== '/') {\r\n        // 针对新打开的页面之间的路由切换不影响父级路由\r\n        if (ThisPage.indexOf('nofresh') === -1) {\r\n          localStorage.setItem('ThisWebPage', ThisPage)\r\n          localStorage.setItem('menuid', menuid)\r\n        }\r\n      }\r\n      this.CheckTimeOut()\r\n    },\r\n    CheckTimeOut () {\r\n      var SubData = {}\r\n      SubData.menuid = this.menuId\r\n      this.$http.post('/web/user/check/timeout').then((response) => {\r\n        let ReceiveData = response.body\r\n        let CodeMsg = ReceiveData.retCode\r\n        let ThisPage = window.location.href.split('#')[1]\r\n        // 如果是分享的界面，在检测是否登录的情况下，如果没有登录直接跳转\r\n        if (CodeMsg === '0000') {\r\n          if (ThisPage.indexOf('share') > 0) {\r\n            this.$router.push(ThisPage)\r\n          } else {\r\n            this.$router.push('/')\r\n          }\r\n        } else {\r\n          // 如果用户已登录，新打开的页面不计入缓存\r\n          if (ThisPage.indexOf('nofresh') > 0) {} else {\r\n            this.$router.push(localStorage.getItem('ThisWebPage'))\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n})\r\n\r\n"]}